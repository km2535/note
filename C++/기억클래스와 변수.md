# 기억클래스
기억 공간
 - 변수 선언
    - 메모리에 변수의 기억 공간, 영역을 확보하기 위해서 임.
    - 변수 선언의 종류에 따라 유효 범위와 생존 기간 등 변수의 성격이 달라짐.

램의 구조 

| OS 영역 |
|--|
| 코드 영역| 
| 초기화 데이터 영역 |
| 근거리 힙 |
| 스택 |
| 원거리 힙 |
|  ..... |

 -  데이터 역역 : 전역 변수와 static 변수용
 - 스택 : 지역 변수용
 - 힙 : 동적 메모리 할당용

## 정의
변수를 세분화된 데이터 영역의 어디에 어떻게 확보할지 결정하는 것

## 종류
|  구분 |  유효 범위 | 생존 기간  | 메모리  |  초기화 여부 |
| - | - | - | - | - |
| auto (자동 변수) | 블록 내 | 일시적 | 메모리 스택 | 쓰레기 값| 
| extern(외부 변수) | 프로그램 내 | 영구적 | 메모리 데이터 영역 | 숫자 0 |
| static(정적 변수) | 내부 : 블록 내 </br> 외부 : 모듈 내 | 영구적 | 메모리 데이터 영역 | 숫자 0 |
| register(레지스터 변수) | 블록 내 | 일시적 | CPU 내 레지스터 </br> (캐시) | 쓰레기 값 |



## 기억클래스 사용

```cpp
// [기억클래스] 자료형 변수명 = 초기값;

auto int a = 0; // auto 생략 가능
int b = 0;
```

### auto (자동 변수)

```cpp
void main(){
	int a =  10;
	cout<<a<<endl; // 10
	{
		int a = 20;
		cout << a << endl; // 20
		{
			a+= 20; // 변수의 캡처 바로 밖의 변수 a를 사용한다. 
			cout << a << endl; // 40
		}
		cout << a << endl; // 40
	}
	// 여기서 a는 가장 밖의 a 이다.
	cout << a << endl; // 10
}
```


### static (정적 변수)

```cpp

#include <iostream>
using namespace std;

void sub();

int main() {
	for (int i = 0; i < 5; i++)
	{
		cout << i << "=====" << endl;
		sub();
	}
	return 0;
}

void sub() {
	int a = 0;
	static int b = 0;
	a += 100;
	b += 100; 
	cout << a << endl;
	cout << b << endl;
}
```

결과 
```
0=====
100
100
1=====
100
200
2=====
100
300
3=====
100
400
4=====
100
500
```

정적변수는 함수가 실행되고 종료 후에도 데이터 영역에 변수가 남아있어서 다음과 같이 값이 지속적으로 쌓여간다.


### 레지스터 변수
- 자동변수와 모든 면에서 동일
- 자동 변수는 스택에 기억공간을 할당하고 레지스터 변수는 레지스터에 저장
- 레지스터에 공간이 가득 차있으면 스택에 자리 잡음.


  