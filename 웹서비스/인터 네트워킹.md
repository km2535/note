# 인터 네트워킹 장비
- 네트워크를 확장하거나 두 개 이상의 네트워크 사이의 통신을 위한 장비를 의미
- 각종 통신망들의 상호 접속과 물리적 거리 제한을 극복하기 위해 필요

![[인터네트워킹 장비.png]]


## OSI 7계층
![[OSI 7계층.png]]

표준 수립 전에는 각 회사마다 장비가 호환되지 않아 어려움이 있었음
표준기구에서 ISO에서 네트워크를 7계층으로 분리하면서 표준을 만든 것이 OSI 7계층


### 애플리케이션 층
• 사용자들이 사용하는 응용 프로그램이 있는 계층
• 데이터 송신을 위해서 메시지를 만듦
• 일반적인 응용 서비스는 관련된 응용 프로세스들 사이의 전환을 제공함
• HTTP, FTP, SMTP, POP3, IMAP, Telnet 등과 같은 프로토콜
### 표현 계층
• 사용자의 명령어를 완성하거나 결과를 표현함 → 포장, 압축, 암호화
• 애플리케이션에서 전송한 메시지에 대해서 코드화를수행함
• 메시지를 압축하여 데이터의 양을 줄임
	- JPEG, MPEG, XDR, GIF, ASCII

### 세션 계층
• 송신자와 수신자 간 통신을 위해서 동기화 신호를 주고받음
• 세션연결을 시행하여, 데이터 통신을 하기 위한 논리적인 연결을 제공함
• 통신 방식인 단순, 반이중, 전이중 방식을 결정함

### 전송 계층
• 응용 프로그램들이 TCP프로토콜을 이용해서 목적지 포트로 전송함
• 송신자와 수신자 간 논리적 연결을 수행함
• 종단 간(End to End) 연결을 관리함
• 오류 검출 및 복구와 흐름제어, 중복검사 등을 수행함


### 네트워크 계층
• 라우팅 기능을 제공하여 데이터를 목적지까지 가장 안전하고 빠르게 전달함
• 수신자의 IP 주소를 읽어서 라우터가 경로를 결정함
• 경로 결정은 라우팅 알고리즘을 사용해서 결정하고, 경로가 결정되면 포워딩을 수행함
	- IP, ICMP, IGMP, X.25, ARP, OSPF

### 데이터 링크 계층
• 브리지나 스위치를 통해 맥주소를 가지고 물리계층에서 받은 정보를 전달함
• 네트워크 계층에서 붙인 IP헤더에서 IP주소를 읽어서 하드웨어 주소인 MAC 주소를 구함
• 에러를 탐지 및 교정함
• 네트워크에 부하가 발생하지 않도록 흐름을 제어함
	- Ethernet, Token Ring, PPP, ISDN, WiFi, FDDI

### 물리 계층
• 물리적 선로로 전송하기 위해서 전기적 신호인 비트(Bit)로 데이터를 전송함
• 거리가 멀면 리피터를 통하여 신호를 증폭시켜야 함
	- 동축 케이블, 광섬유, 모뎀, DSU, CLU



## 라우터
- 라우터는 path Determination 경로 설정과 Swtitching 2가지 역할을 수행
- 경로 설정
	• 데이터 패킷이 목적지까지 갈 수 있는 길을 검사하고 어떤 길로 가는 것이 가장 적절한지 결정  함 
→ 최고의 길을 찾기 위해 라우팅 알고리즘인 '라우팅 프로토콜'을 사용하며, 라우팅 테이블을 만들어서 관리함
 - 스위칭 
	 - 길이 결정되면 그 쪽에 데이터 패킷을 보내주는 역할

### 정적인 라우팅 프로토콜
라우터에 사람이 일일이 라우팅 경로를 입력해주는 것으로 주로 작은 규모의 네트워크에서 사용됨

- 장점
	• 경로를 미리 알고 있어 라우터 자체에 부담이 들지 않아 라우팅 속도와 성능이 좋아짐
	• 라우팅 테이블을 교환하지 않기 때문에 네트워크 대역폭을 절약할 수 있음

- 단점
	• 사람이 직접 라우터에 목적지 별로 일일이 경로를 넣어주어야 하는 번거로움이 있음
	• 지정해준 경로에 이상이 생기면 통신이 마비될 수도 있음

### 다이나믹 라우팅 프로토콜
• 라우터가 라우팅 테이블을 통해 알아서 가장 좋은 길을 찾아 가도록 해주는 것으로, 많은 경로를 처리가 필요한 큰 규모의 네트워크에서 사용됨

• 가장 빠른 경로가 잘못되면 다른 경로를 스스로 찾을 수 있음
• 일일이 경로를 지정하지 않아도 되므로 편함

• 어떤 길이 가장 빠른 길인지 정보를 확인해야 하므로 라우터에 부담을 줄 수 있음


### 라우터의 기능
- 최적 경로 선택
	- 패킷의 목적지 주소를 기반으로 최적의 경로를 선택하여 인접 라우터로 패킷을 전달함
	-  이를 위해 라우터는 라우팅 테이블을 관리하며, 목적지 주소를 라우팅 테이블에서 발견할 수 없다면 디폴트 라우터(Default Router)로 전송함 
- 세그먼트 분리
	- 하나의 네트워크를 여러 개의 세그먼트로 분리하기 위하여 방송 트래픽 차단 기능을 수행함
- 이종 네트워크 간 연결
	-  수신측 호스트와 송신측 호스트가 서로 다른 네트워크 프로토콜을 사용하는 경우, 다중 프로토콜 라우터를 이용하여 연동할 수 있음
	-  예를 들어, 라우터는 이더넷 프레임의 목적지 주소를 적절하게 바꾸어 토큰링, ATM(Asynchronous Transfer Mode)과 같은 이종의 네트워크로 전달할 수 있음


### 브리지의 역할
- 브리지는 계층2의 기능을 지원함
	-  계층2 주소인 이더넷의 MAC 주소를 보고 프레임 전송 포트를 결정함
- 한쪽 단에서 들어온 프레임의 MAC 계층 헤더를 다른 단의 MAC 계층 헤더로 변형해 전송할 수 있어 종류가 다른 LAN을 연결할 수 있음
- 각 단의 데이터의 형태가 다를 경우 헤더 변형을 통해 각 단에 해당하는 데이터로 변형이 가능함
- 브리지는 Collision Domain을 나누는 역할을 하며, 2개의 LAN을 연결해줌

![[브리지.png]]
#### 브리지의 동작
![[브리지 동작.png]]



### 리피터
- 리피터(repeater)와 허브(hub)는 상위 계층에서 사용하는 MAC 주소나 IP 주소를 이해하지 못하고 단순히 전기적인 신호만 증폭시키는 역할을 함
	- 이 장비들을 물리계층 즉, '레이어1 장비'라고 함
- 물리계층 상에서 세그먼트를 단순 연결하여, '연장하는 증폭 장치' 로서 LAN의 한 세그먼트에서 또다른 세그먼트로 전송신호를 재생 송신함
- 리피터는 전기적인 신호를 증폭시켜 먼 거리까지 도달할 수 있도록 하는 장비임
- 리피터를 사용하면 전체 LAN에 접속할 수 있는 장비의 수도 많아짐
- 리피터는 과거에 동축(coaxial)케이블을 사용한 이더넷에서 많이 사용하였음

![[리피터.png]]



### 스위치
#### L2 스위치
• MAC 주소를 보고 어떤 포트로 보낼 것인가를 결정하는 장비

#### L3 스위치
• 네트워크 계층의 정보를 이용하여 고속의 패킷 처리를 수행함
• 스위칭 대상 프로토콜을 IP 프로토콜로 제한함
• 3계층의 라우터가 수행하던 라우팅 기능을 추가함
• 패킷 처리 모듈을 ASIC(Application Specific Integrated Circuit) E NP(Network Processor)로 구현함
• 장비를 구성하는 각 모듈에 메모리와 CPU(Central Processing Unit), 그리고 ASIC를 따로 두어 부하를 분산함
#### L4 / L7 스위치
• L4/L7 스위치는 기존의 L2, L3 스위치와는 다른 개념의 스위치임
• TCP/UDP 포트번호를 이용하여 적절한 서버로 전달함
• L4/L7 패킷 전달 과정에서 네트워크나 서버의 효율을 고려함
• SLB(Server Load Balancing) 기능을 수행함

#### L7 스위치
. TCP/UDP(Transmission Control Protocol/User Datagram Protocol) 헤더 및 데이터를 분석함
. HTTP URL(HyperText Transfer Protocol Uniform Resource Locator) 기반의 패킷 스위칭을 수행함
• 세션별, 사용자별, 혹은 응용별 QoS 정책을 분석함
• 일부 보안 스위칭 기능도 수행함
• L7 스위치는 기본적인 L2, L3 스위치 기능을 포함하며, 부분적으로 L4 스위치 기능을 지원함


### 게이트 웨이
'게이트웨이' 는 '라우터' 보다 포괄적인 개념임
- 게이트웨이는 2개 이상의 다른 종류 또는 같은 종류의 통신망을 상호 접속하여 통신망 간 정보를 주고받을 수 있게 하는 기능 단위 또는 장치임
- 게이트웨이는 서로 다른 프로토콜을 사용하는 네트워크의 상호 연동을 위해 프로토콜을 변환해주는 네트워크 장비임
- 게이트웨이는 OSI 참조 모델의 모든 계층에 대해서 동작하는 네트워크 장비임
- 게이트웨이는 서로 다른 네트워크로 이동하기 위한 관문임
- 두 컴퓨터(or node)가 네트워크 상에서 서로 연결되려면 동일한 통신 프로토콜(protocol, 통신 규약)을 사용해야 함
- 한 프로토콜이 다른 네트워크 상의 컴퓨터와 통신하려면 두 프로토콜을 적절히 변환해야 하는데, 변환기 역할을 게이트웨이가 해 줌
- 두 개의 완전히 다른 네트워크 사이의 데이터 형식을 변환하는 기능을 수행함
- 여러 단계의 프로토콜 변환기능을 수행하므로 네트워크 병목 현상을 일으키는 원인이 될 수 있음

